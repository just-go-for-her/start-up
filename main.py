import streamlit as st

# --------------------------------------------------------------------------
# 1. 페이지 설정
# --------------------------------------------------------------------------
st.set_page_config(
    page_title="AHP 통합 연구 플랫폼",
    page_icon="🎓",
    layout="wide",
    initial_sidebar_state="expanded"
)

# --------------------------------------------------------------------------
# 2. 헤더 및 소개
# --------------------------------------------------------------------------
st.title("🎓 AHP 통합 연구 지원 플랫폼")
st.markdown("""
**복잡한 계층화 분석(AHP) 연구, 이제 하나의 플랫폼에서 끝내세요.** AI를 활용한 구조 설계부터 전문가 설문 배포, 그리고 실시간 데이터 분석까지 원스톱으로 지원합니다.
""")

st.divider()

# --------------------------------------------------------------------------
# 3. 주요 기능 (3단계 프로세스) - 카드 레이아웃
# --------------------------------------------------------------------------
st.subheader("🚀 연구 진행 프로세스")
st.markdown("왼쪽 사이드바의 메뉴를 순서대로 이용하시면 됩니다.")

col1, col2, col3 = st.columns(3)

# [Step 1] 연구 설계
with col1:
    with st.container(border=True):
        st.markdown("### 1️⃣ 설계 및 진단")
        st.markdown("#### (Researcher Tool)")
        st.markdown("""
        AI(Gemini)가 연구 모형의 논리적 오류를 진단하고 개선안을 제안합니다.
        
        * **주요 기능:**
            * 계층 구조(목표-기준-대안) 설정
            * **AI 기반 논리/MECE 진단**
            * 모범 답안 자동 추천
        """)
        st.info("👈 **[1_연구_설계_진단]** 메뉴 클릭")

# [Step 2] 설문 진행
with col2:
    with st.container(border=True):
        st.markdown("### 2️⃣ 설문 배포")
        st.markdown("#### (Survey Tool)")
        st.markdown("""
        확정된 구조로 전용 설문 링크를 생성하고 전문가에게 배포합니다.
        
        * **주요 기능:**
            * **비밀번호(Key)** 기반 보안 배포
            * 실시간 **논리 일관성(CR) 체크**
            * 이메일/카톡 공유 링크 생성
        """)
        st.info("👈 **[2_설문_진행]** 메뉴 클릭")

# [Step 3] 결과 분석
with col3:
    with st.container(border=True):
        st.markdown("### 3️⃣ 결과 분석")
        st.markdown("#### (Data Center)")
        st.markdown("""
        수집된 데이터를 실시간으로 집계하고 AHP 가중치를 계산합니다.
        
        * **주요 기능:**
            * **데이터 유효성(O/X)** 자동 판정
            * 종합 가중치 및 순위 산출
            * 논문용 **엑셀 리포트 다운로드**
        """)
        st.info("👈 **[3_결과_데이터_센터]** 메뉴 클릭")

st.divider()

# --------------------------------------------------------------------------
# 4. 플랫폼 강점 (Highlights)
# --------------------------------------------------------------------------
st.subheader("✨ Why This Platform?")

row1_1, row1_2, row1_3 = st.columns(3)

with row1_1:
    st.success("**🧠 AI Powered Logic**\n\n단순 입력이 아닙니다. AI가 연구자의 논리를 검토하고 더 나은 구조를 컨설팅해 줍니다.")

with row1_2:
    st.warning("**⚖️ Real-time Consistency**\n\n응답자가 비논리적으로 응답하면 즉시 경고하여, **'버려지는 데이터'**를 최소화합니다.")

with row1_3:
    st.error("**🔐 Private Project**\n\n프로젝트별 비밀번호(Key) 시스템을 도입하여, 여러 연구자가 동시에 안전하게 데이터를 관리합니다.")

# --------------------------------------------------------------------------
# 5. 사용 가이드 (Expander)
# --------------------------------------------------------------------------
st.divider()
with st.expander("📖 처음 오셨나요? 빠른 시작 가이드 보기"):
    st.markdown("""
    1.  **연구 주제 정하기:** 왼쪽 **[1_연구_설계_진단]**으로 이동하여 목표와 평가 기준을 입력하세요.
    2.  **AI 피드백 받기:** 'AI 진단' 버튼을 눌러 구조가 논리적인지 확인하고 수정하세요.
    3.  **데이터 넘기기:** '설문 배포하러 가기' 버튼을 눌러 확정된 구조를 저장하세요.
    4.  **링크 만들기:** **[2_설문_진행]**으로 이동하여 비밀번호를 설정하고 링크를 생성하세요.
    5.  **설문 돌리기:** 링크를 전문가들에게 카톡이나 메일로 보내세요.
    6.  **결과 확인:** 설문이 끝나면 **[3_결과_데이터_센터]**에서 비밀번호를 입력하고 결과를 다운로드하세요.
    """)

# --------------------------------------------------------------------------
# 6. 푸터 (Footer)
# --------------------------------------------------------------------------
st.markdown("---")
st.markdown(
    """
    <div style='text-align: center; color: grey; font-size: 0.8em;'>
        © 2025 AHP Research Platform Project. All rights reserved.<br>
        Powered by Streamlit & Google Gemini
    </div>
    """, 
    unsafe_allow_html=True
)
